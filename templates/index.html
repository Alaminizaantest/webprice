<!DOCTYPE html>
<html>
<head>
	<title>Arbitrage Opportunities</title>
	<style>
		table {
			border-collapse: collapse;
			width: 100%;
		}

		th, td {
			text-align: left;
			padding: 8px;
		}

		tr:nth-child(even) {
			background-color: #808080;
		}

		.positive {
			color: green;
			font-weight: bold;
		}

		.negative {
			color: red;
			font-weight: bold;
		}
	</style>
</head>
<body>
	<h1>Arbitrage Opportunities</h1>

	{% if data %}
		<p>{{ positive_count }} positive and {{ negative_count }} negative arbitrage opportunities found.</p>
		<table>
			<tr>
				<th>Symbol</th>
				<th>Gateio Price</th>
				<th>MEXC Price</th>
				<th>Arbitrage</th>
				<th>Gateio Link</th>
				<th>MEXC Link</th>
			</tr>
			{% for item in data %}
				<tr>
					<td>{{ item['symbol'] }}</td>
					<td>{{ item['gateio_price'] }}</td>
					<td>{{ item['mexc_price'] }}</td>
					<td {% if item['arbitrage'] > 0 %} class="positive" {% elif item['arbitrage'] < 0 %} class="negative" {% endif %}>{{ item['arbitrage'] }}%</td>
					<td><a href="https://www.gate.io/trade/{{ item['symbol'].replace('/', '_').lower() }}" target="_blank">Trade on Gateio</a></td>
					<td><a href="https://www.mexc.com/exchange/{{ item['symbol'].replace('/', '_').lower() }}" target="_blank">Trade on MEXC</a></td>
				</tr>
			{% endfor %}
		</table>
	{% else %}
		<p>No arbitrage opportunities found.</p>
	{% endif %}
</body>
</html>
